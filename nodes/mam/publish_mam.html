<script type="text/javascript">
  RED.nodes.registerType('MAM publish', {
    category: 'IOTA MAM',
    color: '#f6bbcf',
    defaults: {
      iotaNode: { value: "https://nodes.comnet.thetangle.org:443" },
      mode: { value: 'public' },
      secret: { value: null },
      mwm: { value: 10 },
      depth: { value: 3 },
      tag: { tag: null }
    },
    inputs: 1,
    outputs: 1,
    icon: "iota.png",
    label: function () {
      return this.name || "MAM publish";
    }
  });
</script>

<script type="text/html" data-template-name="MAM publish">
    <div class="form-row">
      <label for="node-input-iotaNode"">MAM node</label>
      <input type="text" id="node-input-iotaNode"/>
    </div>
    <div class="form-row">
      <label for="node-input-mode">MAM mode</label>
      <select id="node-input-mode">
        <option value="public">Public</option>
        <option value="private">Private</option>
        <option value="restricted">Restricted</option>
      </select>
    </div>
    <div class="form-row">
      <label for="node-input-secret">MAM secret key (restricted mode) </label>
      <input type="text" id="node-input-secret"/>
    </div>
    <div class="form-row">
      <label for="node-input-mwm">Minimum Weight Magnitude</label>
      <input type="number" id="node-input-mwm"/>
    </div>
    <div class="form-row">
      <label for="node-input-depth">Depth</label>
      <input type="number" id="node-input-depth"/>
    </div>
    <div class="form-row">
      <label for="node-input-tag">Tag</label>
      <input type="text" id="node-input-tag"/>
    </div>
</script>

<script type="text/html" data-help-name="MAM publish">
    <p>
      Publishes the input message payload in JSON to a randomly generated address on the tangle network. 
      Returns the message with the generated address in the payload.
    </p>
</script>